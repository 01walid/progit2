=== عن انظمة ادارة النسخ

ما هي "ادارة النسخ"؟ ولماذا علينا الاهتمام بذلك؟

ادارة النسخ هي عبارة عن انظمة تقوم بعمل تسجيل للتغيرات والتعديلات التي تحدث علي ملف او مجموعة من الملفات علي مر الوقت و بهذه الانظمة تستطيع ان تسترجع نسخا قديمة من ملفاتك في اي وقت تشاء.

علي سبيل المثال، هذا الكتاب فيه بعض من المقتطفات من بعض الشيفرات المصدرية علي هيئة ملفات قمنا بادارتها باستخدام نظام الادارة Git، ضع في اعتبارك انه ليست فقط ملفات الشيفرات المصدرية هي مايمكنك ادارتها، ولكن ايضا اي نوع من الملفات علي حاسوبك.

ان كنت مصمم رسوميات او مواقع و ترغب في حفظ كل نسخة من الصور لديك (وبالتاكيد فأنت تحتاج ذلك في عملك اليومي) فستجد ان انظمة ادارة النسخ هي افضل شئ يمكنك استخدامه لذلك الغرض.

انظمة ادارة الملفات تجعل بامكانك الرجوع بالملفات في نسخ سابقة منها بمنتهي البساطة، او حتي العودة بالمشروع كاملا الي نسخة قديمة منه، او مقارنة التغيرات التي طرأت علي مر الوقت و اكثر من ذلك يمكنك مشاهدة من قام بالتعديلات و هذا يسهل جدا عملية اكتشاف اي خطأ طرأ علي مشروعك او ملفاتك ووقت حدوث ذلك.

ايضا استخدامك لنظام ادارة النسخ يجعلك في امان ان حدث و فقدت بعض الملفات او طرأ شئ ضار علي بعضها، فيمكنك بسهولة تامة ارجاعها لحالتها السابقة.

==== انظمة ادارة النسخ المحلية

الطريقة المتبعة لدي الغالبية لادارة ملفاتهم هي مجرد نسخ الملفات الي مجلد اخر جديد (ربما مسمي بالتاريخ الذي انشئ فيه).

هذه الطريقة لها شهرتها بسبب انها بسيطة للغاية، لكنها ايضا لها عواقبها فهي تتسبب في العديد والعديد من الاخطء. فمن السهل جدا ان تنسي اي مجلد انت فيه الان، و تقوم بالتعديل في المجلد الخاطئ او تقوم بنسخ ملف ما منه الي مجلد اخر عن طريق الخطأ.

لذا لحل هذا المشكل، قام المبرمجون من فترة طويلة بتطوير انظمة ادارة النسخ المحلية و التي تحتوي علي قاعدة بيانات بسيطة يخزن فيها التغيرات الطارئة علي الملفات.

نظام ادارة المحتوي المحلي
image::images/local.png[Local version control diagram]

واحدة من انظمة ادارة النسخ المحلية هي RCS و التي توزع مع العديد من الحواسب لهذا اليوم.

حتي نظام التشغيل المشهور Mac OS X يحتوي علي اداة 'rcs' عندما تقوم بتنصيب ادوات التطوير عليه.

تعمل RCS علي ابقاء التغيرات بين الملفات في هيئة خاصة علي القرص الصلب. بعد ذلك يمكن ل RCS  ان تعيد اي ملف الي حالتة القديمة في اي وقت و ذلك فقط باسترجاع التغيرات الطارئة كلها واضافتها لبعضها.


==== نظام ادارة النسخ المركزي
(((version control,centralized)))

المشكل التالي الان الذي يواجه المستخدمين لانظمة ادارة النسخ المخلية الان هو انهم يودون في مشاركة تعديلاتهم مع بعضهم البعض.
و لحل هذا المشكل، قد طورت انظمة ادارة النسخ المركزية.
هذه الانظمة (كنظام CVS علي سبيل المثال او Subversion او Perforce) كلهم لديهم حاسوب خادم وحيد يحتوي علي كل الملفات التي اضيفت الي النظام، و مجموعة من الاجهزة تقوم باخذ نسخ من هذه الملفات الموجودة في المكان المركزي (الخادم).

لسنين طويلة ظلت هذه الطريقة المتبعة لادراة النسخ.


انظمة ادارة النسخ المركزية
image::images/centralized.png[Centralized version control diagram]

هذه الانظمة لها العديد من المزايا مقارنة بانظمة ادارة النسخ المحلية. علي سبيل المثال فكل المستخدمين يستطيعون معرفة ما يقوم به الاخرون من تعديلات علي المشروع. مديري الانظمة سيصبح لديهم تحكم اكبر في انظمتهم ومعرفة من قام بالتعديل و ماهية التعديل ذاتها. هذا بالتاكيد اسهل لمديري الانظمة من استخدام قاعدة بيانات محلية كما الحال في انظمة ادارة النسخ المحلية.

علي الرغم من ذلك فهذه الانظمة (الانظمة المركزية) لها سلبياتها. بالتاكيد فاكثر سلبية واضحة هي ان وقعت اي مشكلة علي الخادم المستضيف للملفات بتعديلاتها. فلو افترضنا انه قد حدث به عطل لساعة فبالتالي في هذه الساعة لا احد سيستطيع التشارك او نسخ اي تعديل قام به او كان موجود مسبقا. ايضا لو حدث عطل علي القرص الصلب ولم يكن هناك نسخ احتياطية قد اخذت فسوف تحدث خسارة تامة للبيانات و لتاريخ التعديلات بالكامل علي المشروع، وبالتطبع يستثني من  ذلك النسخ التي قام البعض باخذها علي اجهزتهم الخاصة.

انظمة ادارة النسخ المخلية تعاني من هذا المشكل، لانه ان كان لديك تاريخ المشروع ككل في مكان واحد فهذا يعد خطرا كبيرا.

==== انظمة ادارة النسخ الامركزية

(((version control,distributed)))

هنا تاتي اهمية ودور انظمة ادارة النسخ الامركزية. في انظمة ادارة النسخ اللامركزية مثل Git و Mercurial و Bazaar و Darcs لا يقوم المستخدمين فقط باخذ التعديلات من الملفات لديهم و لكن ما يحدث هو انهم ياخذون الملفات كاملة (يستنخسون المشروع بالكامل) في مستودع منفصل خاص بهم علي اجهزتهم. لهذا فلو حدث و تعرض اي خادم للضرر و كان المستخدمون يتعاملون عن طريقه فيمكن للمستخدمين ان ينسخون الملفات مرة ثانية الي الخادم و اعادته لحالته السابقة. 

انظمة ادارة النسخ الامركزية

image::images/distributed.png[Distributed version control diagram]

اضافة الي ذلك فهذه الانظمة لها القدرة علي انشاء مستودعات للملفات بعيدة عن بعضها، وبالتالي تستطيع ان تتعامل مع مجموعة كبيرة من المستخدمين في وقت واحد في مشروع واحد. هذا يتيح لك ان تنشئ طرقا منفصلة لادارة ومشاركة الملفات بطريقة لا تيتحها الانظمة الاخري.

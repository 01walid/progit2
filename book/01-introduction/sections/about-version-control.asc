=== عن أنظمة إدارة النسخ

ما هي «أنظمة إدارة النسخ»؟ ولماذا علينا الاهتمام بذلك؟

إدارة النسخ هي عبارة عن أنظمة تقوم بتسجيل التغيرات والتعديلات التي تحدث على ملف أو مجموعة من الملفات على مر الوقت،وتستطيع بواسطة هذه الأنظمةاسترجاع نسخ قديمة من ملفاتك في أي وقت تشاء.

على سبيل المثال، هذا الكتاب به بعض من المقتطفات من بعض الشيفرات المصدرية على هيئة ملفات قمنا بإدارتها باستخدام نظام الإدارة Git، ضع في اعتبارك أنه ليست ملفات الشيفرات المصدرية هي ما يمكنك إدارتها فقط، بل وأيضا أي نوع من الملفات على حاسوبك.

إن كنت مصمم رسوميات أو مواقع وترغب في حفظ كل نسخة من الصور لديك (وبالتأكيد فأنت تحتاج ذلك في عملك اليومي) فستجد أن أنظمة إدارة النسخ هي أفضل وسيلة يمكنك استخدامها لذلك.

أنظمة إدارة الملفات تمكنك من إرجاع الملفات إلى حالة سابقة بمنتهى السهولة، وحتى العودة بالمشروع كاملا إلى نسخة قديمة منه، أو مقارنة التغيرات التي طرأت على في غضون زمن معين، بل وأكثر من ذلك يمكنك مشاهدة من قام بالتعديلات، وهو ما يسهل عملية اكتشاف أي خطأ طرأ على مشروعك أو ملفاتك ووقت حدوث ذلك.

أيضا استخدامك لنظام إدارة النسخ يجعلك في أمان حالة فقدان بعض الملفات أو وقوع ضرر ببعضها، يمكنك بسهولة تامة إرجاعها إلى حالتها السابقة.

==== أنظمة إدارة النسخ المحلية

الطريقة المتبعة لدى الغالبية لإدارة ملفاتهم هي مجرد نسخ الملفات إلى مجلد آخر جديد (وربما تسمية الملفات بالتاريخ الذي أنشئت فيه).

هذه الطريقة لها شهرتها كونها سهلة للغاية، لكن أيضا لها عواقبها فهي تتسبب في العديد والعديد من الأخطاء. فمن السهل جدا نسيان المجلد الذي تعمل عليه في الوقت الراهن، فتقوم بالتعديل على مجلد خطئا أو تقوم بنسخ ملف ما منه إلى مجلد آخر عن طريق الخطأ.

لذا لحل هذا المشكل، قام المبرمجون منذ فترة طويلة بتطوير أنظمة إدارة النسخ المحلية التي تحتوي على قاعدة بيانات سهلة تُخَزَّن فيها التغيرات الطارئة على الملفات.

نظام إدارة المحتوى المحلي
image::images/local.png[Local version control diagram]

إحدى أنظمة إدارة النسخ المحلية هي RCS وهي التي توزع مع العديد من الحواسيب هذه اليوم.

حتى نظام التشغيل المشهور Mac OS X يحتوي على أداة RCS عندما تقوم بتنصيب أدوات التطوير عليه.

تعمل RCS على إبقاء التغييرات بين الملفات في هيئة خاصة على القرص الصلب. بعد ذلك يمكن لـ RCS  إعادة أي ملف إلي حالته القديمة في أي وقت وذلك باسترجاع التغييرات الطارئة كلها وإضافتها إلى بعضها.


==== نظام إدارة النسخ المركزي
(((version control,centralized)))

المشكل التالي الان الذي يواجه المستخدمين لانظمة ادارة النسخ المخلية الان هو انهم يودون في مشاركة تعديلاتهم مع بعضهم البعض.
و لحل هذا المشكل، قد طورت انظمة ادارة النسخ المركزية.
هذه الانظمة (كنظام CVS علي سبيل المثال او Subversion او Perforce) كلهم لديهم حاسوب خادم وحيد يحتوي علي كل الملفات التي اضيفت الي النظام، و مجموعة من الاجهزة تقوم باخذ نسخ من هذه الملفات الموجودة في المكان المركزي (الخادم).

لسنين طويلة ظلت هذه الطريقة المتبعة لادراة النسخ.


انظمة ادارة النسخ المركزية
image::images/centralized.png[Centralized version control diagram]

هذه الانظمة لها العديد من المزايا مقارنة بانظمة ادارة النسخ المحلية. علي سبيل المثال فكل المستخدمين يستطيعون معرفة ما يقوم به الاخرون من تعديلات علي المشروع. مديري الانظمة سيصبح لديهم تحكم اكبر في انظمتهم ومعرفة من قام بالتعديل و ماهية التعديل ذاتها. هذا بالتاكيد اسهل لمديري الانظمة من استخدام قاعدة بيانات محلية كما الحال في انظمة ادارة النسخ المحلية.

علي الرغم من ذلك فهذه الانظمة (الانظمة المركزية) لها سلبياتها. بالتاكيد فاكثر سلبية واضحة هي ان وقعت اي مشكلة علي الخادم المستضيف للملفات بتعديلاتها. فلو افترضنا انه قد حدث به عطل لساعة فبالتالي في هذه الساعة لا احد سيستطيع التشارك او نسخ اي تعديل قام به او كان موجود مسبقا. ايضا لو حدث عطل علي القرص الصلب ولم يكن هناك نسخ احتياطية قد اخذت فسوف تحدث خسارة تامة للبيانات و لتاريخ التعديلات بالكامل علي المشروع، وبالتطبع يستثني من  ذلك النسخ التي قام البعض باخذها علي اجهزتهم الخاصة.

انظمة ادارة النسخ المخلية تعاني من هذا المشكل، لانه ان كان لديك تاريخ المشروع ككل في مكان واحد فهذا يعد خطرا كبيرا.

==== انظمة ادارة النسخ الامركزية

(((version control,distributed)))

هنا تاتي اهمية ودور انظمة ادارة النسخ الامركزية. في انظمة ادارة النسخ اللامركزية مثل Git و Mercurial و Bazaar و Darcs لا يقوم المستخدمين فقط باخذ التعديلات من الملفات لديهم و لكن ما يحدث هو انهم ياخذون الملفات كاملة (يستنخسون المشروع بالكامل) في مستودع منفصل خاص بهم علي اجهزتهم. لهذا فلو حدث و تعرض اي خادم للضرر و كان المستخدمون يتعاملون عن طريقه فيمكن للمستخدمين ان ينسخون الملفات مرة ثانية الي الخادم و اعادته لحالته السابقة. 

انظمة ادارة النسخ الامركزية

image::images/distributed.png[Distributed version control diagram]

اضافة الي ذلك فهذه الانظمة لها القدرة علي انشاء مستودعات للملفات بعيدة عن بعضها، وبالتالي تستطيع ان تتعامل مع مجموعة كبيرة من المستخدمين في وقت واحد في مشروع واحد. هذا يتيح لك ان تنشئ طرقا منفصلة لادارة ومشاركة الملفات بطريقة لا تيتحها الانظمة الاخري.
